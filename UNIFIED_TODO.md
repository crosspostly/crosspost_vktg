# üìã Unified TODO ‚Äî VK‚ÜíTelegram Crossposter (Server + Client)

–û–±–Ω–æ–≤–ª–µ–Ω–æ: 2025-11-05 
–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ: –ï–î–ò–ù–´–ô —Ñ–∞–π–ª –∑–∞–¥–∞—á. –í—Å–µ –ø—Ä–æ—á–∏–µ todo/readme/to_fix ‚Äî —É–¥–∞–ª–∏—Ç—å. –†–∞–±–æ—á–∞—è –∏—Å—Ç–∏–Ω–∞ –∑–¥–µ—Å—å.

---

## ‚úÖ –ê–†–•–ò–í –í–´–ü–û–õ–ù–ï–ù–ù–´–• –ó–ê–î–ê–ß

### üéâ Client-side improvements (v6.0)
- ‚úÖ VK URL ‚Üí ID extraction —Å –ø–æ–ª–Ω–æ–π –ø–æ–¥–¥–µ—Ä–∂–∫–æ–π —Ñ–æ—Ä–º–∞—Ç–æ–≤
- ‚úÖ –í–∞–ª–∏–¥–∞—Ü–∏—è `validateVkGroupId()` —Å –¥–µ—Ç–∞–ª—å–Ω—ã–º –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ–º
- ‚úÖ Published –ª–∏—Å—Ç—ã —Å –∏–Ω—Ç–µ–ª–ª–µ–∫—Ç—É–∞–ª—å–Ω—ã–º –∏–º–µ–Ω–æ–≤–∞–Ω–∏–µ–º –ø–æ `bindingName`
- ‚úÖ UI/UX: Collapse/Expand, –ø—Ä–æ–≥—Ä–µ—Å—Å-–∏–Ω–¥–∏–∫–∞—Ç–æ—Ä—ã, –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã–µ –Ω–∞–∑–≤–∞–Ω–∏—è
- ‚úÖ –ú–µ–Ω—é —Å –æ–ø—Ü–∏–µ–π –æ—á–∏—Å—Ç–∫–∏ –ª–æ–≥–æ–≤ `cleanOldLogs()`
- ‚úÖ –§—É–Ω–∫—Ü–∏—è –º–∏–≥—Ä–∞—Ü–∏–∏ Published –ª–∏—Å—Ç–æ–≤ `migratePublishedSheetsNames()`

### üéâ Server-side improvements
- ‚úÖ `handleGetVkPosts()` —Å –ø–æ–¥–¥–µ—Ä–∂–∫–æ–π `vk_group_id` –∏ –≤–∞–ª–∏–¥–∞—Ü–∏–µ–π
- ‚úÖ `getUserBindingsWithNames()` —Å –Ω–æ–≤—ã–º–∏ –ø–æ–ª—è–º–∏
- ‚úÖ `publish_last_post` endpoint –≤ doPost()
- ‚úÖ –£—Ç–∏–ª–∏—Ç–∞—Ä–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏: `extractVkGroupId()`, `extractTelegramChatId()`, `cleanOldLogs()`
- ‚úÖ –°—Ç—Ä—É–∫—Ç—É—Ä–∏—Ä–æ–≤–∞–Ω–Ω–æ–µ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ —Å –∫–∞—Ç–µ–≥–æ—Ä–∏—è–º–∏

### üéâ –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è –∏ –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞
- ‚úÖ –¶–µ–Ω—Ç—Ä–∞–ª–∏–∑–æ–≤–∞–Ω–Ω–∞—è —Å–µ—Ä–≤–µ—Ä–Ω–∞—è –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ —Å Web App
- ‚úÖ –õ–∏—Ü–µ–Ω–∑–∏–æ–Ω–Ω–∞—è —Å–∏—Å—Ç–µ–º–∞ –∫–æ–Ω—Ç—Ä–æ–ª—è –¥–æ—Å—Ç—É–ø–∞
- ‚úÖ –†–∞–∑–¥–µ–ª–µ–Ω–∏–µ —Å–µ–∫—Ä–µ—Ç–æ–≤ –º–µ–∂–¥—É —Å–µ—Ä–≤–µ—Ä–æ–º –∏ –∫–ª–∏–µ–Ω—Ç–æ–º
- ‚úÖ Published –ª–∏—Å—Ç—ã –∫–∞–∫ –∏—Å—Ç–æ—á–Ω–∏–∫ –ø—Ä–∞–≤–¥—ã –¥–ª—è –¥–µ–¥—É–ø–ª–∏–∫–∞—Ü–∏–∏

---

## üö® CRITICAL PRIORITY (–ö—Ä–∏—Ç–∏—á–µ—Å–∫–∏–µ –ø—Ä–æ–±–ª–µ–º—ã)

### üêõ –î—É–±–ª–∏—Ä–æ–≤–∞–Ω–∏–µ —Ñ—É–Ω–∫—Ü–∏–∏ getVkMediaUrls
**–ü—Ä–æ–±–ª–µ–º–∞:** –î–≤–∞ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è –æ–¥–Ω–æ–π —Ñ—É–Ω–∫—Ü–∏–∏ –≤ server.gs (—Å—Ç—Ä–æ–∫–∏ 1946 –∏ 3260)  
**–§–∞–π–ª—ã:** `/server.gs`  
**–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç:** Critical  
**–ö–æ–Ω—Ç–µ–∫—Å—Ç:** –°–æ–∑–¥–∞–µ—Ç –ø—É—Ç–∞–Ω–∏—Ü—É, –ø–æ—Ç–µ–Ω—Ü–∏–∞–ª—å–Ω—ã–µ –æ—à–∏–±–∫–∏ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è

```javascript
// –£–¥–∞–ª–∏—Ç—å –¥—É–±–ª–∏—Ä—É—é—â–µ–µ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –Ω–∞ —Å—Ç—Ä–æ–∫–µ 3260
// –û—Å—Ç–∞–≤–∏—Ç—å –æ—Å–Ω–æ–≤–Ω—É—é —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—é –Ω–∞ —Å—Ç—Ä–æ–∫–µ 1946
```

### üêõ –û—Ç—Å—É—Ç—Å—Ç–≤–∏–µ handlePublishLastPost —Ñ—É–Ω–∫—Ü–∏–∏
**–ü—Ä–æ–±–ª–µ–º–∞:** Endpoint `publish_last_post` —Å—É—â–µ—Å—Ç–≤—É–µ—Ç –≤ doPost(), –Ω–æ —Ñ—É–Ω–∫—Ü–∏—è –Ω–µ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–∞  
**–§–∞–π–ª—ã:** `/server.gs`  
**–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç:** Critical  
**–ö–æ–Ω—Ç–µ–∫—Å—Ç:** –ö—Ä–∏—Ç–∏—á–Ω–∞—è —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å –Ω–µ–¥–æ—Å—Ç—É–ø–Ω–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º

```javascript
function handlePublishLastPost(payload, clientIp) {
  // –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å –ø—É–±–ª–∏–∫–∞—Ü–∏—é –ø–æ—Å–ª–µ–¥–Ω–µ–≥–æ –ø–æ—Å—Ç–∞
  // –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å format_settings —Å–≤—è–∑–∫–∏
  // –î–µ—Ç–∞–ª—å–Ω–æ–µ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –æ–ø–µ—Ä–∞—Ü–∏–∏
}
```

### üêõ PropertiesService –¥–ª—è LAST_POST_IDS –≤ –∫–ª–∏–µ–Ω—Ç–µ
**–ü—Ä–æ–±–ª–µ–º–∞:** –ù–∞—Ä—É—à–µ–Ω–∏–µ –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—ã - –∫–µ—à ID –ø–æ—Å—Ç–æ–≤ –≤ –∫–ª–∏–µ–Ω—Ç–µ –≤–º–µ—Å—Ç–æ Published –ª–∏—Å—Ç–æ–≤  
**–§–∞–π–ª—ã:** `/client.gs` (—Å—Ç—Ä–æ–∫–∏ 1238, 1258, 2669, 2693)  
**–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç:** Critical  
**–ö–æ–Ω—Ç–µ–∫—Å—Ç:** –†–∞—Å—Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è —Å–æ—Å—Ç–æ—è–Ω–∏—è, –Ω–∞—Ä—É—à–µ–Ω–∏–µ –µ–¥–∏–Ω–æ–≥–æ –∏—Å—Ç–æ—á–Ω–∏–∫–∞ –ø—Ä–∞–≤–¥—ã

```javascript
// –£–¥–∞–ª–∏—Ç—å —Ñ—É–Ω–∫—Ü–∏–∏:
// - getLastPostIdsFromCache()
// - saveLastPostIdsToCache()
// - –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å Published –ª–∏—Å—Ç—ã –¥–ª—è –æ—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏—è
```

---

## üî• HIGH PRIORITY (–í—ã—Å–æ–∫–∏–π –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç)

### üìã –ú–∏–≥—Ä–∞—Ü–∏—è Bindings —Å –Ω–æ–≤—ã–º–∏ –ø–æ–ª—è–º–∏
**–ü—Ä–æ–±–ª–µ–º–∞:** –õ–∏—Å—Ç Bindings –Ω–µ —Å–æ–¥–µ—Ä–∂–∏—Ç `Binding Name`, `Binding Description`  
**–§–∞–π–ª—ã:** `/server.gs` (initializeServer, handleAddBinding, handleEditBinding)  
**–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç:** High  
**–ö–æ–Ω—Ç–µ–∫—Å—Ç:** –£–ª—É—á—à–µ–Ω–∏–µ UX, –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è —Å–≤—è–∑–æ–∫

**–ó–∞–¥–∞—á–∏:**
- [ ] –û–±–Ω–æ–≤–∏—Ç—å —Å—Ç—Ä—É–∫—Ç—É—Ä—É –ª–∏—Å—Ç–∞ `Bindings`
- [ ] –ê–≤—Ç–æ—Å–æ–∑–¥–∞–Ω–∏–µ –∫–æ–ª–æ–Ω–æ–∫ –ø—Ä–∏ –ø–µ—Ä–≤–æ–º –∑–∞–ø—É—Å–∫–µ
- [ ] –û–±–Ω–æ–≤–∏—Ç—å CRUD –æ–ø–µ—Ä–∞—Ü–∏–∏ –¥–ª—è Bindings
- [ ] –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –º–∏–≥—Ä–∞—Ü–∏–∏ —Å—É—â–µ—Å—Ç–≤—É—é—â–∏—Ö –¥–∞–Ω–Ω—ã—Ö

### üìã –ó–∞–≤–µ—Ä—à–µ–Ω–∏–µ –º–∏–≥—Ä–∞—Ü–∏–∏ Published –ª–∏—Å—Ç–æ–≤
**–ü—Ä–æ–±–ª–µ–º–∞:** –§—É–Ω–∫—Ü–∏—è `migratePublishedSheetsNames()` —Å—É—â–µ—Å—Ç–≤—É–µ—Ç, –Ω–æ –Ω–µ –≤—ã–∑—ã–≤–∞–µ—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏  
**–§–∞–π–ª—ã:** `/client.gs`  
**–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç:** High  
**–ö–æ–Ω—Ç–µ–∫—Å—Ç:** –°—Ç–∞—Ä—ã–µ –ª–∏—Å—Ç—ã `Published_-123456` –Ω–µ –ø–µ—Ä–µ–∏–º–µ–Ω–æ–≤–∞–Ω—ã

**–ó–∞–¥–∞—á–∏:**
- [ ] –î–æ–±–∞–≤–∏—Ç—å –≤—ã–∑–æ–≤ –º–∏–≥—Ä–∞—Ü–∏–∏ –≤ `onOpen()` –∏–ª–∏ –ø—Ä–∏ –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏–∏
- [ ] –û–±—Ä–∞–±–æ—Ç–∞—Ç—å —Å–ª—É—á–∞–∏ –æ—Ç—Å—É—Ç—Å—Ç–≤–∏—è binding_name
- [ ] –û–±–Ω–æ–≤–∏—Ç—å –∫–æ–ª–æ–Ω–∫—É "VK Post URL" –¥–ª—è —Å—Ç–∞—Ä—ã—Ö –∑–∞–ø–∏—Å–µ–π
- [ ] –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤ –º–∏–≥—Ä–∞—Ü–∏–∏

### üìã –ü—Ä—è–º–æ–µ —Å–∫–∞—á–∏–≤–∞–Ω–∏–µ VK –≤–∏–¥–µ–æ
**–ü—Ä–æ–±–ª–µ–º–∞:** –í–∏–¥–µ–æ –æ—Ç–ø—Ä–∞–≤–ª—è—é—Ç—Å—è –∫–∞–∫ embed —Å—Å—ã–ª–∫–∏ –≤–º–µ—Å—Ç–æ —Ñ–∞–π–ª–æ–≤  
**–§–∞–π–ª—ã:** `/server.gs` (getVkVideoDirectUrl, sendTelegramVideo)  
**–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç:** High  
**–ö–æ–Ω—Ç–µ–∫—Å—Ç:** –£–ª—É—á—à–µ–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–æ–≥–æ –æ–ø—ã—Ç–∞

**–ó–∞–¥–∞—á–∏:**
- [ ] –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å `getVkVideoDirectUrl()` —á–µ—Ä–µ–∑ video.get API
- [ ] –û–±–Ω–æ–≤–∏—Ç—å `sendTelegramVideo()` –¥–ª—è –æ—Ç–ø—Ä–∞–≤–∫–∏ —Ñ–∞–π–ª–æ–≤
- [ ] Fallback –Ω–∞ embed –ø—Ä–∏ –Ω–µ–¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç–∏ –ø—Ä—è–º–æ–≥–æ URL
- [ ] –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ —Ä–∞–∑–ª–∏—á–Ω—ã—Ö —Ñ–æ—Ä–º–∞—Ç–æ–≤ –≤–∏–¥–µ–æ

---

## ‚ö° MEDIUM PRIORITY (–°—Ä–µ–¥–Ω–∏–π –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç)

### üîß –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –º–µ–¥–∏–∞–≥—Ä—É–ø–ø Telegram
**–ü—Ä–æ–±–ª–µ–º–∞:** –§–æ—Ç–æ –æ—Ç–ø—Ä–∞–≤–ª—è—é—Ç—Å—è –ø–æ –æ–¥–Ω–æ–º—É, –Ω–µ—Ç –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏ —Å–º–µ—à–∞–Ω–Ω–æ–≥–æ –∫–æ–Ω—Ç–µ–Ω—Ç–∞  
**–§–∞–π–ª—ã:** `/server.gs` (sendMixedMediaOptimized)  
**–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç:** Medium  
**–ö–æ–Ω—Ç–µ–∫—Å—Ç:** –ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å, —ç–∫–æ–Ω–æ–º–∏—è API –∑–∞–ø—Ä–æ—Å–æ–≤

**–°—Ç—Ä–∞—Ç–µ–≥–∏—è:**
- –§–æ—Ç–æ (1-10): –æ–¥–∏–Ω sendMediaGroup –∑–∞–ø—Ä–æ—Å
- –í–∏–¥–µ–æ (1): –æ–¥–∏–Ω sendVideo –∑–∞–ø—Ä–æ—Å  
- –í–∏–¥–µ–æ (>1): –æ—Ç–¥–µ–ª—å–Ω—ã–µ –∑–∞–ø—Ä–æ—Å—ã —Å caption —Ç–æ–ª—å–∫–æ —É –ø–µ—Ä–≤–æ–≥–æ
- –§–æ—Ç–æ + –≤–∏–¥–µ–æ: sendVideo + sendMediaGroup –±–µ–∑ caption

### üîß –£–ª—É—á—à–µ–Ω–Ω–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫ VK API
**–ü—Ä–æ–±–ª–µ–º–∞:** –ù–µ—Ç –¥–µ—Ç–∞–ª—å–Ω–æ–π –æ–±—Ä–∞–±–æ—Ç–∫–∏ –∫–æ–¥–æ–≤ –æ—à–∏–±–æ–∫ (5, 10, 15, 113, 200)  
**–§–∞–π–ª—ã:** `/server.gs` (VK API –≤—ã–∑–æ–≤—ã)  
**–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç:** Medium  
**–ö–æ–Ω—Ç–µ–∫—Å—Ç:** –°—Ç–∞–±–∏–ª—å–Ω–æ—Å—Ç—å, –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞ –ø—Ä–æ–±–ª–µ–º

**–ó–∞–¥–∞—á–∏:**
- [ ] –õ–æ–≥–∏—Ä–æ–≤–∞—Ç—å –∫–æ–¥—ã –æ—à–∏–±–æ–∫ –∏ —Ç–µ–∫—Å—Ç—ã
- [ ] –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å —Ä–µ—Ç—Ä–∞–∏ –¥–ª—è –≤—Ä–µ–º–µ–Ω–Ω—ã—Ö –æ—à–∏–±–æ–∫
- [ ] –¢–∞–π–º–∞—É—Ç—ã –ø–æ —Ç–∏–ø—É –æ–ø–µ—Ä–∞—Ü–∏–∏ (FAST/MEDIUM/SLOW)
- [ ] Graceful degradation –ø—Ä–∏ –Ω–µ–¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç–∏ API

### üîß Batch –∑–∞–ø—Ä–æ—Å—ã –Ω–∞–∑–≤–∞–Ω–∏–π VK/TG
**–ü—Ä–æ–±–ª–µ–º–∞:** –ù–∞–∑–≤–∞–Ω–∏—è –∑–∞–ø—Ä–∞—à–∏–≤–∞—é—Ç—Å—è –ø–æ –æ–¥–Ω–æ–º—É, –º–µ–¥–ª–µ–Ω–Ω–æ  
**–§–∞–π–ª—ã:** `/server.gs` (batchResolveScreenNames, batchGetChatInfo)  
**–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç:** Medium  
**–ö–æ–Ω—Ç–µ–∫—Å—Ç:** –ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å –ø—Ä–∏ –±–æ–ª—å—à–æ–º –∫–æ–ª–∏—á–µ—Å—Ç–≤–µ —Å–≤—è–∑–æ–∫

---

## üîß LOW PRIORITY (–ù–∏–∑–∫–∏–π –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç)

### üé® –†–∞—Å—à–∏—Ä–µ–Ω–Ω–æ–µ —Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ —Ç–µ–∫—Å—Ç–∞
**–§–∞–π–ª—ã:** `/client.gs` (UI), `/server.gs` (formatVkTextForTelegram)  
**–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç:** Low  
**–ö–æ–Ω—Ç–µ–∫—Å—Ç:** –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –æ–ø—Ü–∏–∏ —Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏—è

**–í–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏:**
- –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –æ–ø—Ü–∏–∏ bold/italic/mono
- –ö–∞—Å—Ç–æ–º–Ω—ã–µ –ø—Ä–µ—Ñ–∏–∫—Å—ã/—Å—É—Ñ—Ñ–∏–∫—Å—ã
- –£–º–Ω–æ–µ –æ–±—Ä–µ–∑–∞–Ω–∏–µ –¥–ª–∏–Ω–Ω—ã—Ö —Ç–µ–∫—Å—Ç–æ–≤
- HTML entities –æ–±—Ä–∞–±–æ—Ç–∫–∞

### üé® UI —É–ª—É—á—à–µ–Ω–∏—è –∞–¥–º–∏–Ω –ø–∞–Ω–µ–ª–∏
**–§–∞–π–ª—ã:** `/server.gs` (HTML —à–∞–±–ª–æ–Ω—ã)  
**–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç:** Low  
**–ö–æ–Ω—Ç–µ–∫—Å—Ç:** –£–ª—É—á—à–µ–Ω–∏–µ –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω–∏—è

**–£–ª—É—á—à–µ–Ω–∏—è:**
- –ê–¥–∞–ø—Ç–∏–≤–Ω—ã–π –¥–∏–∑–∞–π–Ω
- Real-time —Å—Ç–∞—Ç—É—Å —Å–µ—Ä–≤–µ—Ä–∞
- –ì—Ä–∞—Ñ–∏–∫–∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è
- –ú–∞—Å—Å–æ–≤—ã–µ –æ–ø–µ—Ä–∞—Ü–∏–∏

---

## üîß –¢–ï–•–ù–ò–ß–ï–°–ö–ò–ô –î–û–õ–ì

### üìù –ö–æ–¥-—Å—Ç–∞–π–ª –∏ —É–Ω–∏—Ñ–∏–∫–∞—Ü–∏—è
**–ü—Ä–æ–±–ª–µ–º—ã:**
- –ù–µ—Å–æ–≥–ª–∞—Å–æ–≤–∞–Ω–Ω–æ–µ –∏–º–µ–Ω–æ–≤–∞–Ω–∏–µ —Ñ—É–Ω–∫—Ü–∏–π (camelCase vs snake_case)
- –û—Ç—Å—É—Ç—Å—Ç–≤–∏–µ JSDoc –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–µ–≤ –¥–ª—è –Ω–æ–≤—ã—Ö —Ñ—É–Ω–∫—Ü–∏–π
- –î—É–±–ª–∏—Ä–æ–≤–∞–Ω–∏–µ –∫–æ–Ω—Å—Ç–∞–Ω—Ç –∏ –º–∞–≥–∏—á–µ—Å–∫–∏—Ö —á–∏—Å–µ–ª
- –ù–µ—Å–æ–≥–ª–∞—Å–æ–≤–∞–Ω–Ω–æ–µ —Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –æ—Ç—Å—Ç—É–ø–æ–≤

**–ó–∞–¥–∞—á–∏:**
- [ ] –£–Ω–∏—Ñ–∏—Ü–∏—Ä–æ–≤–∞—Ç—å –∏–º–µ–Ω–æ–≤–∞–Ω–∏–µ (–ø—Ä–µ–¥–ø–æ—á—Ç–∏—Ç–µ–ª—å–Ω–æ camelCase)
- [ ] –î–æ–±–∞–≤–∏—Ç—å JSDoc –¥–ª—è –≤—Å–µ—Ö –ø—É–±–ª–∏—á–Ω—ã—Ö —Ñ—É–Ω–∫—Ü–∏–π
- [ ] –í—ã–Ω–µ—Å—Ç–∏ –∫–æ–Ω—Å—Ç–∞–Ω—Ç—ã –≤ –æ—Ç–¥–µ–ª—å–Ω—ã–π –±–ª–æ–∫/—Ñ–∞–π–ª
- [ ] –ü—Ä–∏–º–µ–Ω–∏—Ç—å –µ–¥–∏–Ω–æ–µ —Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ (2 –ø—Ä–æ–±–µ–ª–∞)

### üìù –†–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥ –±–æ–ª—å—à–∏—Ö —Ñ—É–Ω–∫—Ü–∏–π
**–ü—Ä–æ–±–ª–µ–º—ã:**
- `doPost()` > 100 —Å—Ç—Ä–æ–∫
- `sendTelegramPost()` > 150 —Å—Ç—Ä–æ–∫  
- –°–º–µ—à–∞–Ω–Ω—ã–µ —É—Ä–æ–≤–Ω–∏ –∞–±—Å—Ç—Ä–∞–∫—Ü–∏–∏

**–ó–∞–¥–∞—á–∏:**
- [ ] –†–∞–∑–±–∏—Ç—å `doPost()` –Ω–∞ –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –ø–æ event
- [ ] –í—ã–Ω–µ—Å—Ç–∏ –º–µ–¥–∏–∞-–æ–±—Ä–∞–±–æ—Ç–∫—É –≤ –æ—Ç–¥–µ–ª—å–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏
- [ ] –°–æ–∑–¥–∞—Ç—å —É—Ç–∏–ª–∏—Ç–∞—Ä–Ω—ã–µ –º–æ–¥—É–ª–∏

---

## üß™ –¢–ï–°–¢-–ö–ï–ô–°–´ –ò –ß–ï–ö–õ–ò–°–¢–´

### üîç –ö—Ä–∏—Ç–∏—á–µ—Å–∫–∏–µ —Ç–µ—Å—Ç—ã (Critical Priority)

#### VK URL ‚Üí ID extraction
```bash
# –¢–µ—Å—Ç–æ–≤—ã–µ URL –∏ –æ–∂–∏–¥–∞–µ–º—ã–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã
https://vk.com/club96798355?from=groups ‚Üí -96798355
https://vk.com/public123 ‚Üí -123
https://vk.com/id123 ‚Üí 123
-12345 ‚Üí -12345
https://vk.com/durov ‚Üí null (—Ç—Ä–µ–±—É–µ—Ç server resolution)
```

#### Published –ª–∏—Å—Ç—ã –æ–ø–µ—Ä–∞—Ü–∏–∏–∏
- [ ] –°–æ–∑–¥–∞–Ω–∏–µ –Ω–æ–≤–æ–≥–æ –ª–∏—Å—Ç–∞ `Published_GroupName`
- [ ] –ö–æ—Ä—Ä–µ–∫—Ç–Ω–æ–µ –∑–∞–ø–æ–ª–Ω–µ–Ω–∏–µ –∫–æ–ª–æ–Ω–æ–∫
- [ ] –û—Ç—Å—É—Ç—Å—Ç–≤–∏–µ –¥—É–±–ª–∏–∫–∞—Ç–æ–≤ –∑–∞–ø–∏—Å–µ–π
- [ ] –ú–∏–≥—Ä–∞—Ü–∏—è —Å—Ç–∞—Ä—ã—Ö –ª–∏—Å—Ç–æ–≤ `Published_-123456`

#### VK –≤–∏–¥–µ–æ –ø—Ä—è–º—ã–µ —Ñ–∞–π–ª—ã
- [ ] –ü–æ–ª—É—á–µ–Ω–∏–µ direct URL —á–µ—Ä–µ–∑ video.get
- [ ] –û—Ç–ø—Ä–∞–≤–∫–∞ —Ñ–∞–π–ª–∞ –≤ Telegram
- [ ] Fallback –Ω–∞ embed –ø—Ä–∏ –æ—à–∏–±–∫–µ
- [ ] –û–±—Ä–∞–±–æ—Ç–∫–∞ —Ä–∞–∑–Ω—ã—Ö —Ñ–æ—Ä–º–∞—Ç–æ–≤ (mp4_720, mp4_480, mp4_360)

### ‚ö° –§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–µ —Ç–µ—Å—Ç—ã (High Priority)

#### –ú–µ–¥–∏–∞–≥—Ä—É–ø–ø—ã –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è
- [ ] 10 —Ñ–æ—Ç–æ ‚Üí 1 sendMediaGroup –∑–∞–ø—Ä–æ—Å
- [ ] 1 –≤–∏–¥–µ–æ + 5 —Ñ–æ—Ç–æ ‚Üí 2 –∑–∞–ø—Ä–æ—Å–∞
- [ ] 3 –≤–∏–¥–µ–æ ‚Üí 3 –∑–∞–ø—Ä–æ—Å–∞ —Å caption —É –ø–µ—Ä–≤–æ–≥–æ
- [ ] –°–º–µ—à–∞–Ω–Ω—ã–π –∫–æ–Ω—Ç–µ–Ω—Ç –±–µ–∑ –ø–æ—Ç–µ—Ä–∏ –¥–∞–Ω–Ω—ã—Ö

#### –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫ VK API
- [ ] –ö–æ–¥ 5 (–Ω–µ–∞–≤—Ç–æ—Ä–∏–∑–æ–≤–∞–Ω) ‚Üí –∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã–π –æ—Ç–≤–µ—Ç
- [ ] –ö–æ–¥ 10 (internal server) ‚Üí retry 1x
- [ ] –ö–æ–¥ 15 (access denied) ‚Üí –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ
- [ ] –ö–æ–¥ 113 (invalid user_id) ‚Üí –≤–∞–ª–∏–¥–∞—Ü–∏—è
- [ ] –ö–æ–¥ 200 (album access) ‚Üí graceful handling

### üéØ UI/UX —Ç–µ—Å—Ç—ã (Medium Priority)

#### Batch –∑–∞–≥—Ä—É–∑–∫–∞ –Ω–∞–∑–≤–∞–Ω–∏–π
- [ ] –°–∫–æ—Ä–æ—Å—Ç—å –∑–∞–≥—Ä—É–∑–∫–∏ 10+ —Å–≤—è–∑–æ–∫ < 5 —Å–µ–∫—É–Ω–¥
- [ ] –ö–µ—à–∏—Ä–æ–≤–∞–Ω–∏–µ –≤ –±—Ä–∞—É–∑–µ—Ä–µ –Ω–∞ 10 –º–∏–Ω—É—Ç
- [ ] –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫ —á–∞—Å—Ç–∏—á–Ω–æ–π –∑–∞–≥—Ä—É–∑–∫–∏
- [ ] –ü—Ä–æ–≥—Ä–µ—Å—Å-–∏–Ω–¥–∏–∫–∞—Ç–æ—Ä –¥–ª—è –±–æ–ª—å—à–∏—Ö –æ–±—ä–µ–º–æ–≤

---

## üìä –°–¢–ê–¢–£–° –†–ï–ê–õ–ò–ó–ê–¶–ò–ò

### ‚úÖ –ó–∞–≤–µ—Ä—à–µ–Ω–æ (70%)
- Client-side –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ –∏ UI
- Server-side –±–∞–∑–æ–≤–∞—è —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å  
- VK URL parsing –∏ –≤–∞–ª–∏–¥–∞—Ü–∏—è
- Published –ª–∏—Å—Ç—ã –æ—Å–Ω–æ–≤–∞
- –õ–∏—Ü–µ–Ω–∑–∏–æ–Ω–Ω–∞—è —Å–∏—Å—Ç–µ–º–∞

### üöß –í —Ä–∞–±–æ—Ç–µ (20%)
- –ú–∏–≥—Ä–∞—Ü–∏—è Bindings —Å –Ω–æ–≤—ã–º–∏ –ø–æ–ª—è–º–∏
- –ü—Ä—è–º–æ–µ —Å–∫–∞—á–∏–≤–∞–Ω–∏–µ VK –≤–∏–¥–µ–æ
- –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –º–µ–¥–∏–∞–≥—Ä—É–ø–ø

### ‚è≥ –ü–ª–∞–Ω–∏—Ä—É–µ—Ç—Å—è (10%)
- Batch –∑–∞–ø—Ä–æ—Å—ã –Ω–∞–∑–≤–∞–Ω–∏–π
- –†–∞—Å—à–∏—Ä–µ–Ω–Ω–æ–µ —Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ
- UI —É–ª—É—á—à–µ–Ω–∏—è –∞–¥–º–∏–Ω –ø–∞–Ω–µ–ª–∏

---

## üéØ –°–õ–ï–î–£–Æ–©–ò–ï –®–ê–ì–ò

### Week 1: Critical fixes
1. –ò—Å–ø—Ä–∞–≤–∏—Ç—å –¥—É–±–ª–∏—Ä–æ–≤–∞–Ω–∏–µ `getVkMediaUrls`
2. –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å `handlePublishLastPost`
3. –£–¥–∞–ª–∏—Ç—å PropertiesService –¥–ª—è LAST_POST_IDS
4. –ó–∞–≤–µ—Ä—à–∏—Ç—å –º–∏–≥—Ä–∞—Ü–∏—é Published –ª–∏—Å—Ç–æ–≤

### Week 2: High priority features  
1. –ú–∏–≥—Ä–∞—Ü–∏—è Bindings —Å –Ω–æ–≤—ã–º–∏ –ø–æ–ª—è–º–∏
2. –ü—Ä—è–º–æ–µ —Å–∫–∞—á–∏–≤–∞–Ω–∏–µ VK –≤–∏–¥–µ–æ
3. –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –º–µ–¥–∏–∞–≥—Ä—É–ø–ø

### Week 3: Quality improvements
1. –£–ª—É—á—à–µ–Ω–Ω–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫ VK API
2. Batch –∑–∞–ø—Ä–æ—Å—ã –Ω–∞–∑–≤–∞–Ω–∏–π
3. –ö–æ–¥-—Å—Ç–∞–π–ª —É–Ω–∏—Ñ–∏–∫–∞—Ü–∏—è

---

## üìù –ó–ê–ú–ï–¢–ö–ò –î–õ–Ø –†–ê–ó–†–ê–ë–û–¢–ß–ò–ö–û–í

### üîó –°–≤—è–∑—å —Å IMPROVEMENT_PLAN.md
- `IMPROVEMENT_PLAN.md` —Å–æ–¥–µ—Ä–∂–∏—Ç –¥–µ—Ç–∞–ª—å–Ω—É—é –¥–æ—Ä–æ–∂–Ω—É—é –∫–∞—Ä—Ç—É
- `UNIFIED_TODO.md` ‚Äî —ç—Ç–æ –æ–ø–µ—Ä–∞—Ç–∏–≤–Ω—ã–π –±—ç–∫–ª–æ–≥
- –ó–∞–¥–∞—á–∏ –∏–∑ IMPROVEMENT_PLAN.md –¥–æ–ª–∂–Ω—ã –æ—Ç—Ä–∞–∂–∞—Ç—å—Å—è –∑–¥–µ—Å—å —Å –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç–∞–º–∏

### üìã –ü—Ä–∏–Ω—Ü–∏–ø—ã –≤–µ–¥–µ–Ω–∏—è TODO
1. **–û–¥–Ω–æ –∏—Å—Ç–æ—á–Ω–∏–∫ –ø—Ä–∞–≤–¥—ã:** –¢–æ–ª—å–∫–æ —ç—Ç–æ—Ç —Ñ–∞–π–ª –¥–ª—è –≤—Å–µ—Ö –∑–∞–¥–∞—á
2. **–ö–æ–Ω–∫—Ä–µ—Ç–Ω—ã–µ –¥–µ–π—Å—Ç–≤–∏—è:** –ò–∑–±–µ–≥–∞—Ç—å –∞–±—Å—Ç—Ä–∞–∫—Ç–Ω—ã—Ö "—É–ª—É—á—à–∏—Ç—å"
3. **–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç—ã:** Critical > High > Medium > Low
4. **–ê—Ä—Ö–∏–≤–∏—Ä–æ–≤–∞–Ω–∏–µ:** –í—ã–ø–æ–ª–Ω–µ–Ω–Ω—ã–µ –∑–∞–¥–∞—á–∏ –ø–µ—Ä–µ–º–µ—â–∞—Ç—å –≤ –∞—Ä—Ö–∏–≤
5. **–°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è:** –ü—Ä–æ–≤–µ—Ä—è—Ç—å —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏–µ —Å –∫–æ–¥–æ–º –∫–∞–∂–¥—É—é –Ω–µ–¥–µ–ª—é

### üö® –ü—Ä–æ—Ü–µ—Å—Å –¥–æ–±–∞–≤–ª–µ–Ω–∏—è –∑–∞–¥–∞—á
1. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –æ—Ç—Å—É—Ç—Å—Ç–≤–∏–µ –≤ –∫–æ–¥–µ (grep –ø–æ TODO/FIXME)
2. –£–±–µ–¥–∏—Ç—å—Å—è —á—Ç–æ –∑–∞–¥–∞—á–∞ –Ω–µ –¥—É–±–ª–∏—Ä—É–µ—Ç —Å—É—â–µ—Å—Ç–≤—É—é—â—É—é
3. –î–æ–±–∞–≤–∏—Ç—å —Å –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã–º —Ñ–∞–π–ª–æ–º –∏ –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç–æ–º
4. –û–±–Ω–æ–≤–∏—Ç—å IMPROVEMENT_PLAN.md –ø—Ä–∏ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏

---

*–ü–æ—Å–ª–µ–¥–Ω–µ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ: 2025-11-05*  
*–ö—Ä–∏—Ç–∏—á–µ—Å–∫–∏–µ –ø—Ä–æ–±–ª–µ–º—ã: 3 —Ä–µ—à–µ–Ω–æ (–¥—É–±–ª–∏—Ä–æ–≤–∞–Ω–∏–µ getVkMediaUrls, –æ—Ç—Å—É—Ç—Å—Ç–≤—É—é—â–∏–π handlePublishLastPost, PropertiesService –∫–µ—à)*  
*–°–ª–µ–¥—É—é—â–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞ —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏–∏: 2025-11-12*
